<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thực đơn hôm nay | Phương Nhung Healthy Bites</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
</head>
<body>
<header class="site-header">
  <div class="site-container">
    <a class="brand-link" href="index.html"><div class="brand-circle">PN</div><div class="brand-name">Phương Nhung Healthy Bites<small>Thực đơn</small></div></a>
    <nav class="site-nav">
      <a class="nav-link" href="index.html">Trang chủ</a>
      <a class="nav-link active" href="menu.html">Thực đơn</a>
      <a class="nav-link" href="about.html">Giới thiệu</a>
      <a class="nav-link" href="contact.html">Liên hệ</a>
    </nav>
  </div>
</header>

<main class="container">
  <div class="card">
    <h1>🍱 Thực đơn hôm nay</h1>
    <p class="muted">Cập nhật: <span id="menuDate"></span></p>
    <div id="menuArea"></div>
    <p><strong>Tổng số món:</strong> <span id="totalCount">0</span></p>
  </div>
</main>

<footer class="site-footer">
  <div class="site-container">
    <p>© 2025 Phương Nhung Healthy Bites</p>
  </div>
</footer>

<script>
const RAW_URL = "https://raw.githubusercontent.com/taomenonline/phuongnhung-healthy-bites/main/todayMenu.json";

async function renderMenu(){
  try {
    const res = await fetch(RAW_URL+"?t="+Date.now());
    const data = await res.json();
    const menuArea = document.getElementById('menuArea');
    const todayStr = new Date().toLocaleDateString();
    document.getElementById('menuDate').textContent = todayStr;

    menuArea.innerHTML = '';
    let total=0;
    data.forEach((it, idx)=>{
      total++;
      const card = document.createElement('div');
      card.className='dish-card';
      card.innerHTML = `<div class="dish-body"><h4>${idx+1}. ${it}</h4></div>`;
      menuArea.appendChild(card);
    });
    document.getElementById('totalCount').textContent = total;
  } catch(e){
    document.getElementById('menuArea').innerHTML = "<p>❌ Lỗi tải menu</p>";
  }
}
renderMenu();
</script>
</body>
</html>
